<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>replit</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
  <script>
    let closestStop = "[Invalid Coords]";
    let closestStopCoords = "0,0";
    let closestStopDistance = 0;

    function compute_distance(x1, y1, x2, y2) {
      return Math.sqrt((x2*8 - x1) ** 2 + (y2*8 - y1) ** 2)  
    }


    function compute_distance_string(c1, c2) {
      const [x1, y1] = c1.replace(" ","").split(",");
      const [x2, y2] = c2.replace(" ","").split(",");
      console.log("x1: " + x1 + " y1: " + y1 + " x2: " + x2 + " y2: " + y2);
      return compute_distance(x1, y1, x2, y2);
    }

    function findStop() {
      const c1 = document.getElementById("coords").value;
      const stops = [
        ["Southeastern Wilderness","399,96"],
        ["Northwestern Wilderness","-50,-548"],
        ["Scarlett's Base","-3,-238"],
        ["Country of Harley","11,-20"],
        ["Nice Island Nation","193,-552"],
        ["Matthew's Base","21,288"]
      ];
      let closest = "[Invalid Coords]";
      let min = Infinity;
      let coords = "";
      for (const stop of stops) {
        const distance = compute_distance_string(c1, stop[1]);
        if (distance < min) {
          closest = stop[0];
          coords = stop[1];
          min = distance;
        }
      }
      closestStop = closest
      closestStopCoords = coords;
      closestStopDistance = Math.floor(min);

      document.getElementById("result1").innerHTML = "The closest stop to the coordinates you entered is <b>" + closestStop + "</b>, which is <b>" + closestStopDistance + " blocks away through the Overworld</b>";
      document.getElementById("result2").innerHTML = closestStop + " is located at <b>" + closestStopCoords + "</b> in the Nether, or <b>" +closestStopCoords.replace(" ","").split(",")[0]*8 + "," +closestStopCoords.replace(" ","").split(",")[1]*8+"</b> in the Overworld";
    }

  </script>
</head>

  <body>

    <p>Enter the overworld coordinates you want to go to, separated by a comma, then press enter.</p>
    <input type="text" onChange="findStop()" id="coords" placeholder="x, y"/>
  <p id="result1"> </p>
  <p id="result2"></p>
  <p>Update: All stops are now added as of 16.6.24. Enjoy! P.S: please let me know if any coords are slightly off.</p>
  </body>

</html>
